{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","$asideLeft","$cover","find","myNav","JSON","parse","localStorage","getItem","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","item","index","$li","insertBefore","on","window","open","event","splice","$closePC","confirm","prompt","trim","console","log","indexOf","push","toUpperCase","e","style","display","document","key","toLowerCase","onbeforeunload","string","stringify","setItem","onload","$liSite","Array","from","addEventListener","targetTouches","length","move","preventDefault","touch2","moveX","pageX","disX","startX","end","removeEventListener","$logoWrapper","$close","touch"],"mappings":"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","file":"main.fb280223.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\");\r\nconst $lastLi = $(\"li.last\");\r\nconst $asideLeft = $(\".asideLeft\")[0];\r\nconst $cover = $(\".headerLeft\").find(\".cover\")[0];\r\n\r\nconst myNav = JSON.parse(localStorage.getItem(\"myNav\"));\r\n\r\nlet hashMap = myNav || [\r\n  { logo: \"M\", url: \"https://developer.mozilla.org/zh-CN/\" },\r\n  { logo: \"X\", url: \"https://xiedaimala.com/\" },\r\n  { logo: \"Z\", url: \"https://www.zhihu.com/\" }\r\n];\r\n\r\nconst simplifyUrl = url => {\r\n  return url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/, \"\");\r\n};\r\n\r\nconst render = () => {\r\n  $siteList.find(\"li:not(.last)\").remove();\r\n  hashMap.forEach((item, index) => {\r\n    const $li = $(\r\n      `<li>\r\n          <div class=\"site\">\r\n            <div class=\"logoWrapper\">\r\n              <div class=\"logo\"> \r\n                ${item.logo}\r\n              </div>\r\n            </div>\r\n            <div class=\"close\">\r\n              <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-remove\"></use>\r\n              </svg>\r\n            </div>\r\n            <div class=\"closePC\">\r\n              <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-tag-remove\"></use>\r\n              </svg>\r\n            </div>\r\n            <div class=\"text\">${simplifyUrl(item.url)}</div>\r\n          </div>\r\n      </li>`\r\n    ).insertBefore($lastLi);\r\n    $(\".logoWrapper\").on(\"click\", () => {\r\n      window.open(item.url);\r\n    });\r\n    $(\".close\").on(\"click\", function(event) {\r\n      // event.stopPropagation();\r\n      hashMap.splice(index, 1);\r\n      render();\r\n    });\r\n    const $closePC = $li.find(\".closePC\");\r\n    $(\".closePC\").on(\"click\", function(event) {\r\n      // event.stopPropagation();\r\n      if (window.confirm(\"确定要删除吗\")) {\r\n        hashMap.splice(index, 1);\r\n        render();\r\n      }\r\n    });\r\n  });\r\n};\r\nrender();\r\n\r\n$(\".addButton\").on(\"click\", function() {\r\n  let url = window.prompt(\"请输入你要添加的网址：\").trim();\r\n  console.log(url);\r\n  if (url.indexOf(\"http\") !== 0) {\r\n    url = `https://${url}`;\r\n  }\r\n  hashMap.push({\r\n    logo: simplifyUrl(url)[0].toUpperCase(),\r\n    url: url\r\n  });\r\n  render();\r\n});\r\n\r\n$(\".headerMenu\").on(\"click\", e => {\r\n  $asideLeft.style.display = \"block\";\r\n  $cover.style.display = \"block\";\r\n});\r\n\r\n$(\".cover\").on(\"click\", () => {\r\n  $asideLeft.style.display = \"none\";\r\n  $cover.style.display = \"none\";\r\n});\r\n\r\n$(\".email\").on(\"click\", () => {});\r\n\r\n$(document).on(\"keypress\", e => {\r\n  const { key } = e;\r\n  hashMap.forEach(item => {\r\n    if (item.logo.toLowerCase() === key) {\r\n      window.open(item.url);\r\n    }\r\n  });\r\n});\r\n\r\nwindow.onbeforeunload = () => {\r\n  const string = JSON.stringify(hashMap);\r\n  localStorage.setItem(\"myNav\", string);\r\n};\r\n\r\n// 移动端滑动\r\nwindow.onload = () => {\r\n  const $liSite = Array.from($(\".site\"));\r\n  // console.log($liSite);\r\n  $liSite.forEach(item => {\r\n    item.addEventListener(\r\n      \"touchstart\",\r\n      function(event) {\r\n        if (event.targetTouches.length === 1) {\r\n          let touch = event.targetTouches[0];\r\n          let startX = touch.pageX;\r\n          let disX;\r\n          console.log(startX);\r\n          item.addEventListener(\"touchmove\", move);\r\n          function move(event) {\r\n            event.preventDefault();\r\n            var touch2 = event.targetTouches[0];\r\n            var moveX = touch2.pageX;\r\n            disX = moveX - startX;\r\n            // console.log(disX);\r\n          }\r\n          item.addEventListener(\"touchend\", end);\r\n          function end(event) {\r\n            item.removeEventListener(\"touchmove\", move);\r\n            item.removeEventListener(\"touchend\", end);\r\n            let $logoWrapper = $(item).find(\".logoWrapper\")[0];\r\n            let $close = $(item).find(\".close\")[0];\r\n            if (disX < 0) {\r\n              $logoWrapper.style.display = \"none\";\r\n              $close.style.display = \"flex\";\r\n            } else if (disX > 0) {\r\n              $logoWrapper.style.display = \"flex\";\r\n              $close.style.display = \"none\";\r\n            }\r\n          }\r\n        }\r\n      },\r\n      false\r\n    );\r\n  });\r\n};\r\n"]}