{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","$asideLeft","$cover","find","myNav","JSON","parse","localStorage","getItem","hashMap","logo","url","simplifyUrl","replace","slide","$liSite","Array","from","console","log","forEach","item","addEventListener","event","targetTouches","length","move","preventDefault","touch2","moveX","pageX","disX","startX","end","removeEventListener","$logoWrapper","$close","style","display","touch","render","remove","index","$li","insertBefore","on","window","open","splice","confirm","prompt","trim","indexOf","push","toUpperCase","e","document","key","toLowerCase","onbeforeunload","string","stringify","setItem"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\");\r\nconst $lastLi = $(\"li.last\");\r\nconst $asideLeft = $(\".asideLeft\")[0];\r\nconst $cover = $(\".headerLeft\").find(\".cover\")[0];\r\n\r\nconst myNav = JSON.parse(localStorage.getItem(\"myNav\"));\r\n\r\nlet hashMap = myNav || [\r\n  { logo: \"M\", url: \"https://developer.mozilla.org/zh-CN/\" },\r\n  { logo: \"X\", url: \"https://xiedaimala.com/\" },\r\n  { logo: \"Z\", url: \"https://www.zhihu.com/\" }\r\n];\r\n\r\nconst simplifyUrl = url => {\r\n  return url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/, \"\");\r\n};\r\n\r\n// 移动端滑动;\r\nconst slide = () => {\r\n  const $liSite = Array.from($(\".site\"));\r\n  console.log($liSite);\r\n  $liSite.forEach(item => {\r\n    item.addEventListener(\r\n      \"touchstart\",\r\n      function(event) {\r\n        if (event.targetTouches.length === 1) {\r\n          let touch = event.targetTouches[0];\r\n          let startX = touch.pageX;\r\n          let disX;\r\n          console.log(startX);\r\n          item.addEventListener(\"touchmove\", move);\r\n          function move(event) {\r\n            event.preventDefault();\r\n            var touch2 = event.targetTouches[0];\r\n            var moveX = touch2.pageX;\r\n            disX = moveX - startX;\r\n            // console.log(disX);\r\n          }\r\n          item.addEventListener(\"touchend\", end);\r\n          function end(event) {\r\n            item.removeEventListener(\"touchmove\", move);\r\n            item.removeEventListener(\"touchend\", end);\r\n            let $logoWrapper = $(item).find(\".logoWrapper\")[0];\r\n            let $close = $(item).find(\".close\")[0];\r\n            if (disX < 0) {\r\n              $logoWrapper.style.display = \"none\";\r\n              $close.style.display = \"flex\";\r\n            } else if (disX > 0) {\r\n              $logoWrapper.style.display = \"flex\";\r\n              $close.style.display = \"none\";\r\n            }\r\n          }\r\n        }\r\n      },\r\n      false\r\n    );\r\n  });\r\n};\r\n\r\nconst render = () => {\r\n  $siteList.find(\"li:not(.last)\").remove();\r\n  hashMap.forEach((item, index) => {\r\n    const $li = $(\r\n      `<li>\r\n          <div class=\"site\">\r\n            <div class=\"logoWrapper\">\r\n              <div class=\"logo\"> \r\n                ${item.logo}\r\n              </div>\r\n            </div>\r\n            <div class=\"close\">\r\n              <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-remove\"></use>\r\n              </svg>\r\n            </div>\r\n            <div class=\"closePC\">\r\n              <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-tag-remove\"></use>\r\n              </svg>\r\n            </div>\r\n            <div class=\"text\">${simplifyUrl(item.url)}</div>\r\n          </div>\r\n      </li>`\r\n    ).insertBefore($lastLi);\r\n    // console.log($siteList);\r\n    // console.log(typeof $siteList);\r\n    slide();\r\n    $(\".logoWrapper\").on(\"click\", () => {\r\n      window.open(item.url);\r\n    });\r\n    $(\".close\").on(\"click\", function(event) {\r\n      // event.stopPropagation();\r\n      hashMap.splice(index, 1);\r\n      render();\r\n    });\r\n    $(\".closePC\").on(\"click\", function(event) {\r\n      // event.stopPropagation();\r\n      if (window.confirm(\"确定要删除吗\")) {\r\n        hashMap.splice(index, 1);\r\n        render();\r\n      }\r\n    });\r\n  });\r\n};\r\nrender();\r\n\r\n$(\".addButton\").on(\"click\", function() {\r\n  let url = window.prompt(\"请输入你要添加的网址：\").trim();\r\n  console.log(url);\r\n  if (url.indexOf(\"http\") !== 0) {\r\n    url = `https://${url}`;\r\n  }\r\n  hashMap.push({\r\n    logo: simplifyUrl(url)[0].toUpperCase(),\r\n    url: url\r\n  });\r\n\r\n  render();\r\n});\r\n\r\n$(\".headerMenu\").on(\"click\", e => {\r\n  $asideLeft.style.display = \"block\";\r\n  $cover.style.display = \"block\";\r\n});\r\n\r\n$(\".cover\").on(\"click\", () => {\r\n  $asideLeft.style.display = \"none\";\r\n  $cover.style.display = \"none\";\r\n});\r\n\r\n// $(\".email\").on(\"click\", () => {});\r\n\r\n$(document).on(\"keypress\", e => {\r\n  const { key } = e;\r\n  hashMap.forEach(item => {\r\n    if (item.logo.toLowerCase() === key) {\r\n      window.open(item.url);\r\n    }\r\n  });\r\n});\r\n\r\nwindow.onbeforeunload = () => {\r\n  const string = JSON.stringify(hashMap);\r\n  localStorage.setItem(\"myNav\", string);\r\n};\r\n"]}